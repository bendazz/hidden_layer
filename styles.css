:root {
  --bg: #f7f8fc;
  --fg: #121417;
  --muted: #5b6673;
  --accent: #3367d6;
  --edge: #8aa0b9;
  --node: #ffd166;
  --good: #2ca24d;
  --bad: #d64545;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Cantarell, Noto Sans, sans-serif;
  background: var(--bg);
  color: var(--fg);
}

header, footer { padding: 12px 16px; }
header h1 { margin: 0 0 4px; font-size: 20px; }
.subtitle { margin: 0; color: var(--muted); font-size: 13px; }

.layout {
  display: grid;
  grid-template-columns: 1fr 1.4fr 0.8fr;
  gap: 16px;
  padding: 12px 16px 20px;
}

.panel {
  border: 1px solid #dfe3ea;
  border-radius: 8px;
  padding: 12px;
  background: #ffffff;
  min-height: 420px;
}

.panel h2 { margin: 0 0 8px; font-size: 16px; }
.hint { color: var(--muted); font-size: 12px; margin: 0 0 8px; }
.hint.small { font-size: 11px; }

.table-wrap { max-height: 360px; overflow: auto; border: 1px solid #e3e7ef; border-radius: 6px; }
.table-wrap.small { max-height: 300px; }
table { width: 100%; border-collapse: collapse; font-size: 13px; }
thead th { position: sticky; top: 0; background: #f0f3f9; color: var(--fg); }
th, td { padding: 6px 8px; border-bottom: 1px dashed #e6eaf2; text-align: right; color: var(--fg); }
table #weights-table th.subhead { background: #e9edf4; font-weight: 600; }
table#weights-table th[colspan] { background: #dfe5ef; text-align: center; }
tbody tr:nth-child(odd) { background: #ffffff; }
tbody tr:nth-child(even) { background: #f9fbff; }

#network-panel { display: flex; flex-direction: column; }
#network-svg { width: 100%; height: 100%; border: 1px solid #e1e6ef; border-radius: 6px; background: #f7f9fd; }
.legend { margin-top: 8px; color: var(--muted); font-size: 12px; display: flex; gap: 12px; }
.legend-item { display: inline-flex; align-items: center; gap: 6px; }
.node-swatch { width: 12px; height: 12px; border-radius: 50%; background: var(--node); display: inline-block; }
.edge-swatch { width: 16px; height: 2px; background: var(--edge); display: inline-block; }

.loss-value { font-size: 28px; font-weight: 600; }
.details { margin-top: 8px; color: var(--muted); font-size: 12px; white-space: pre-line; }

/* SVG styling */
.edge { stroke: var(--edge); stroke-width: 1.5; opacity: 0.9; }
/* Unified edge color (previously positive=green, negative=red) */
.edge.positive, .edge.negative { stroke: var(--edge); }
.weight-label { fill: var(--muted); font-size: 11px; }
.node { fill: var(--node); stroke: #222; stroke-width: 1; }
.node-label { fill: #0a0c12; font-weight: 700; font-size: 11px; text-anchor: middle; dominant-baseline: central; }
.neuron-label { fill: var(--fg); font-size: 12px; text-anchor: middle; }

/* Q&A Section */
.qa { padding: 0 16px 32px; }
.qa h2 { margin: 32px 0 12px; font-size: 18px; }
.question-card { background: #ffffff; border: 1px solid #dfe3ea; border-radius: 10px; padding: 14px 16px 18px; box-shadow: 0 2px 4px rgba(0,0,0,0.04); max-width: 840px; }
.q-text { font-size: 14px; line-height: 1.5; margin-bottom: 8px; }
.answer summary { cursor: pointer; font-weight: 600; color: var(--accent); margin-bottom: 6px; }
.answer[open] summary { margin-bottom: 10px; }
.answer-body { font-size: 13px; line-height: 1.4; }
.answer pre { background: #f3f5fa; padding: 8px 10px; border-radius: 6px; overflow-x: auto; }
.answer code { font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace; font-size: 13px; }
.answer ul { padding-left: 18px; margin: 6px 0 0; }
.answer li { margin: 4px 0; }

/* Buttons */
.btn {
  background: #3367d6;
  color: #fff;
  border: none;
  border-radius: 6px;
  padding: 6px 10px;
  cursor: pointer;
}
.btn.small { padding: 4px 8px; font-size: 12px; }
.btn:hover { background: #2856b6; }
.btn:active { background: #204a9a; }

@media (max-width: 980px) {
  .layout { grid-template-columns: 1fr; }
  .panel { min-height: unset; }
  #network-svg { height: 360px; }
}
